name: Versioning

on:
  workflow_call:
    outputs:
      build_number:
        value: ${{ jobs.version.outputs.build_number }}

jobs:
  version:
    runs-on: ubuntu-latest

    outputs:
      build_number: ${{ steps.build.outputs.build_number }}

    steps:
      - uses: actions/checkout@v3

      - name: Create build number (8-digit hourly Manila time)
        id: build
        run: |
          # Use Manila timezone (UTC+8)
          build_number=$(TZ="Asia/Manila" date +%y%m%d%H)  # e.g., 25111409
          echo "Generated build number (Manila time): $build_number"
          echo "build_number=$build_number" >> $GITHUB_OUTPUT
